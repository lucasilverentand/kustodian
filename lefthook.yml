# Lefthook configuration for Git hooks
# https://github.com/evilmartians/lefthook

# Pre-commit: Run lint and typecheck to prevent wrong commits
pre-commit:
  parallel: true
  commands:
    lint:
      glob: "{*,**/*}"
      run: pnpm lint
      skip:
        - merge
        - rebase

    typecheck:
      glob: "{*,**/*}"
      run: pnpm typecheck
      skip:
        - merge
        - rebase

# Pre-push: Run fast unit tests before pushing
pre-push:
  parallel: true
  commands:
    test:
      glob: "{*,**/*}"
      run: pnpm test
      skip:
        - merge
        - rebase
